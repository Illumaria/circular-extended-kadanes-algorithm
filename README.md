# Circular Extended Kadane's Algorithm
A script for calculating the maximum sum of circular sub-arrays, where a zeroing element can be present

## Problem statement

The original problem statement can be found [here](https://cups.mail.ru/tasks/1033).
Игра в Дартс 3000 проходит следующим образом.

На круглой мишени изначально N секторов. В начале игры для каждого сектора ведущий записывает баллы. Баллы сектора могут быть как положительными, так и отрицательными. Также, по своему усмотрению, ведущий может назначить один произвольный сектор специальным черным сектором (важно — ведущий может и не назначать черный сектор вообще).
Далее каждому игроку выдается ровно 2 дротика — красный и синий. В свой ход игрок бросает оба дротика в мишень. Результатом его броска считается сумма баллов на секторах, которые идут от красного сектора (сектор, в который игрок попал красным дротиком) до синего сектора (сектор, в который игрок попал синим дротиком) по часовой стрелке. Красный и синий сектор также включаются в эту сумму.

    Если игрок попал дротиками в один сектор, то его результат — это просто баллы на этом одном секторе, а не сумма на всей мишени.
    Если в этом промежутке от красного до синего сектора (включая красный и синий) встретился черный сектор, то тогда результат игрока считается равным 0.

Побеждает в раунде тот, кто после броска набрал максимальный результат.

Ваша задача — для данной мишени определить максимальный возможный результат, который может получить игрок.

Мишень, закодированная в первом примере, представлена картинке ниже:

![Example 1](https://www.russiancodecup.ru/media/uploads/photos/example1.png)

Максимальный результат на этой мишени можно получить, если попасть красным в сектор с баллом в 6 (это пятый сектор в порядке, указанном во входных данных), а синим — в сектор с баллом в 3 (это первый сектор в порядке, указанном во входных данных). Тогда сумма соответствующих секторов будет равна 12.

Мишень, закодированная во втором примере, представлена картинке ниже:

![Example 2](https://www.russiancodecup.ru/media/uploads/photos/example2.png)

Максимальный результат на этой мишени можно получить, если попасть красным в сектор с баллом в 3 (это четвертый сектор в порядке, указанном во входных данных), а синим — в сектор с баллом в 1 (это нулевой сектор в порядке, указанном во входных данных). Тогда сумма соответствующих секторов будет равна 8.

## Input data format

Первая строка теста содержит одно целое число x — количество наборов входных данных. После следуют x наборов данных.
В первой строке набора записаны два числа, разделенные пробелом: N и K.

N — количество секторов на мишени. K — номер сектора, который был назначен черным. Сектора нумеруются с 0. Если K = -1, то это означает, что в этом раунде ведущий не назначил черный сектор.
Во второй строке набора записано N чисел, разделенных пробелом — баллы за сектора. Сектора указаны по часовой стрелке начиная с нулевого сектора. Важно отметить, что число K означает номер сектора именно в указанном порядке.

## Output data format

Для каждого набора данных необходимо вывести одно число (каждое на отдельной строке) — максимальный результат, который может получить игрок.

## Examples

```
>>> 1
>>> 8 2
>>> 2 3 4 5 -30 6 -1 2
12
>>> 1
>>> 6 -1
>>> 1 -3 2 -2 3 4
8
```

## Prerequisites

* Python 3.x

## Usage

The usage instructions provided below are for Linux systems but can be adapted for other systems with ease.

```
$ git clone https://github.com/Illumaria/circular-extended-kadanes-algorithm.git
$ cd circular-extended-kadanes-algorithm/
$ chmod +x circular-extended-kadanes-algorithm.py
$ ./circular-extended-kadanes-algorithm.py
```
